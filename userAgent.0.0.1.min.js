!function(a,b,c){var d=c&&c.userAgent||"",e=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX"],f=function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&("object"!=typeof a[b]||null==a[b]||a[b]instanceof Boolean||a[b]instanceof Number||a[b]instanceof String)&&(c[b]=a[b]);return c},g=function(a){var b,c,d,e,f="";if(a instanceof Array){for(d=a.length,f+="[",c=0;d>c;c++)f+=g(a[c]),d-1>c&&(f+=",");f+="]"}else if("object"!=typeof a||null===a||(a instanceof Number||a instanceof String||a instanceof Boolean))e=!(null===a||"boolean"==typeof a||"number"==typeof a||a instanceof Boolean||a instanceof Number),e&&a&&(a=String(a).replace(/["]/g,'\\"')),f+=(e?'"':"")+a+(e?'"':"");else{f+="{";for(b in a)a.hasOwnProperty(b)&&(f+='"'+b+'":'+g(a[b])+",");f=f.replace(/,$/,"")+"}"}return f},h=(/(?:msie\s([0-9a-z,.]+);)/.exec(d)||/(?:version\/([0-9a-z,.]+))$/.exec(d)||/(?:chrome\/([0-9a-z,.]+)\s)/.exec(d)||/(?:firefox\/([0-9a-z,.]+))$/.exec(d)||/(?:version\/([0-9a-z,.]+)\s)/.exec(d)||[])[1]||null,i={version:h,isIPhone:/iphone/i.test(d),isIPad:/ipad/i.test(d),isIPod:/ipod/i.test(d),isIPadWebView:/applewebkit/i.test(d)&&/mobile/i.test(d),isAndroidDevice:/android/i.test(d),isWindowsMobileDevice:/windows\s+phone/i.test(d),isOpera:/'opera'/i.test(d),isChrome:/chrome/i.test(d),isFireFox:/firefox/.test(d),isIE:/msie/.test(d),isSafari:/safari/.test(d)};i.isIOSDevice=i.isIPad||i.isIPod||i.isIPhone||i.isIPadWebView,i.isMobileDevice=i.isIOSDevice||i.isAndroidDevice||i.isWindowsMobileDevice;var j=function(b){var d,g,h=e.length,j=a.ActiveXObject,k={browser:i,os:o,support:p,timezone:(new Date).getTimezoneOffset(),localStorageEnabled:"undefined"!=typeof localStorage,userDataEnabled:"undefined"!=typeof userData,javaEnabled:"function"==typeof c.javaEnabled?c.javaEnabled():!1,taintEnabled:"function"==typeof c.taintEnabled?c.taintEnabled():!1,navigator:f(c),data:f(a.screen),ActiveXObjects:[]};if(j)for(d=0;h>d;d++)try{g=new j(e[d]),k.ActiveXObjects.push(e[d])}catch(l){}if(c.mimeTypes)for(k.mimeTypes=[],h=c.mimeTypes.length||0,d=0;h>d;d++)k.mimeTypes.push(f(c.mimeTypes[d]));if(c.plugins)for(k.plugins=[],h=c.plugins.length||0,d=0;h>d;d++)k.plugins.push(f(c.plugins[d]));this.network.getIP(function(a){a&&(k.network={ip:a}),"function"==typeof b&&b(k)},function(){"function"==typeof b&&b(k)})},k=function(a,b){this.collect(function(b){"function"==typeof a&&a(g(b))},b)},l=function(a){var b,c,d,e,f=a.split("\r\n"),g=[],h=f.length;for(b=0;h>b;b++)f[b].indexOf("a=candidate")>=0?(c=f[b].split(" "),e=c[4],d=c[7],"host"===d&&g.push(e)):f[b].indexOf("c=")>=0&&(c=f[b].split(" "),e=c[2],g.push(e));return g},m=function(b,c){var d,e=!!a.mozRTCPeerConnection,f=2,g=[],h=["0.0.0.0"],i=a.webkitRTCPeerConnection||a.mozRTCPeerConnection,j=function(a){var c,d=a.length;for(c=0;d>c;c++)g.indexOf(a[c])<0&&h.indexOf(a[c])<0&&g.push(a[c]);f--,f||"function"!=typeof b||b(g[0])};i&&(d=new i({iceServers:[]}),e&&d.createDataChannel("",{reliable:!1}),d.onicecandidate=function(a){a.candidate&&j(l(a.candidate.candidate))},d.createOffer(function(a){j(l(a.sdp)),d.setLocalDescription(a)},c))},n={getIP:function(a,b){m(a,b)}},o={name:"",isUnix:/unix/i.test(d),isLinux:/linux/i.test(d),isIrix:/irix/i.test(d),isMac:/mac/i.test(d),isSun:/sun/i.test(d),isFreeBSD:/freebsd/i.test(d),isWindows:/win/i.test(d),isTouch:/touch/i.test(d)};o.isUnix?o.name="Unix":o.isLinux?o.name="Linux":o.isIrix?o.name="Irix":o.isMac?o.name="MacOS":o.isSun?o.name="SunOS":o.isFreeBSD?o.name="FreeBSD":o.isWindows&&(o.name=/95/.test(d)?"Windows 95":/98/.test(d)?"Windows 98":/2000/.test(d)?"Windows 2000":/windows\s+nt\s+6\.1/i.test(d)?"Windows 7":/windows\s+nt\s+6\.2/i.test(d)?"Windows 8":/windows\s+nt\s+6\.0/i.test(d)?"Windows Vista":/Windows/.test(d)?"Windows XP":"Windows 3.1");var p={svg:!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect},q={browser:i,os:o,network:n,support:p,getKey:k,collect:j};"function"==typeof define&&define.amd&&define("userAgent",[],function(){return q}),this.userAgent=q}(window,document,navigator);